sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/ui/core/Control","sap/ui/core/format/DateFormat"],function(t,e,r){"use strict";return t.extend("loanoffercreation.ext.controller.Contractobj",{override:{onInit:function(){this._setupDateObserver()},routing:{onAfterBinding:function(){this._formatEditDates();this._formatDisplayDates()}}},_formatEditDates:function(){const t=this.base.getView();if(!t)return;this._walkControls(t,t=>{if(t.isA&&t.isA("sap.m.DatePicker")){const e=t.getBinding("value");if(e){const r=e.getPath();t.unbindProperty("value");t.bindProperty("dateValue",{path:r})}t.setDisplayFormat("MM/dd/yyyy");t.setValueFormat("yyyy-MM-dd")}})},_formatDisplayDates:function(){const t=r.getDateInstance({pattern:"MM/dd/yyyy"});document.querySelectorAll("[id$='Field-display'], .sapMText").forEach(e=>{const r=e.innerText?.trim();if(!r)return;if(/^\d{2}\/\d{2}\/\d{4}$/.test(r))return;const n=r.match(/^([A-Za-z]{3}) (\d{1,2}), (\d{4})$/);if(!n)return;const o=new Date(`${n[1]} ${n[2]}, ${n[3]}`);if(isNaN(o))return;e.innerText=t.format(o)})},_setupDateObserver:function(){const t=new MutationObserver(()=>{this._formatDisplayDates()});t.observe(document.body,{childList:true,subtree:true})},_walkControls:function(t,r){r(t);if(!t.getAggregation)return;const n=t.getMetadata().getAllAggregations();Object.keys(n).forEach(n=>{const o=t.getAggregation(n);if(Array.isArray(o)){o.forEach(t=>this._walkControls(t,r))}else if(o instanceof e){this._walkControls(o,r)}})}})});
//# sourceMappingURL=Contractobj.controller.js.map